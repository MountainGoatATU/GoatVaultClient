<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="GoatVaultClient.Controls.CategoryItemCell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:GoatVaultClient.Controls"
    x:Name="This"
    x:DataType="controls:CategoryItemCell">
    <Border BackgroundColor="{AppThemeBinding Light={StaticResource LightOnSurface}, Dark={StaticResource DarkOnSurface}}" StrokeThickness="0">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="{StaticResource xSmall}" />
        </Border.StrokeShape>
        <Grid
            Padding="{x:StaticResource pContent}"
            ColumnDefinitions="40, *, Auto"
            ColumnSpacing="{StaticResource sContent}"
            VerticalOptions="Center">

            <Image
                Grid.Column="0"
                HeightRequest="{x:StaticResource iconDesktop}"
                HorizontalOptions="Start"
                VerticalOptions="Center"
                WidthRequest="{x:StaticResource iconDesktop}">
                <Image.Source>
                    <FontImageSource
                        FontFamily="MaterialRounded"
                        Glyph="{Binding IconGlyph, Source={x:Reference This}}"
                        Size="{x:StaticResource iconDesktopResolution}"
                        Color="{AppThemeBinding Light=Black,
                                                Dark=White}" />
                </Image.Source>
            </Image>

            <Label
                Grid.Column="1"
                LineBreakMode="TailTruncation"
                Style="{x:StaticResource MaterialTitleMedium}"
                Text="{Binding Text, Source={x:Reference This}}"
                VerticalOptions="Center" />

            <Border
                Grid.Column="2"
                Padding="{StaticResource sContent}"
                BackgroundColor="{AppThemeBinding Light={StaticResource LightSurfaceContainerLow},
                                                  Dark={StaticResource DarkSurfaceContainerLow}}"
                Stroke="{AppThemeBinding Light={StaticResource LightSurfaceContainerLow},
                                         Dark={StaticResource DarkSurfaceContainerLow}}">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="{StaticResource xSmall}" />
                </Border.StrokeShape>
                <Label
                    LineBreakMode="TailTruncation"
                    Style="{x:StaticResource MaterialLabelMedium}"
                    Text="{Binding EntryCount, Source={x:Reference This}}"
                    VerticalOptions="Center" />
            </Border>


        </Grid>

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="CommonStates">
                <VisualState x:Name="Normal">
                    <VisualState.Setters>
                        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={x:StaticResource LightSurfaceContainer}, Dark={x:StaticResource DarkSurfaceContainer}}" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="PointerOver">
                    <VisualState.Setters>
                        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={x:StaticResource LightSurfaceContainerHigh}, Dark={x:StaticResource DarkSurfaceContainerHigh}}" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Border>
</ContentView>
