<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:GoatVaultClient.Controls"
             x:Class="GoatVaultClient.Controls.PopupTemplate"
             x:Name="RootLayout">
    <ContentView.ControlTemplate>
        <ControlTemplate>
            <Border BackgroundColor="{AppThemeBinding Light={StaticResource LightSurface}, Dark={StaticResource DarkSurface}}"
                    StrokeThickness="0"
                    WidthRequest="{TemplateBinding FrameWidth}"
                    VerticalOptions="Center"
                    MaximumHeightRequest="650">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="{x:StaticResource xLargeIncreased}"/>
                </Border.StrokeShape>
                <Grid RowDefinitions="Auto, *, Auto">
                    <Label Grid.Row="0"
                               Text="{TemplateBinding Title}" 
                               Style="{x:StaticResource MaterialHeadlineMedium}"
                               Padding="20"
                               HorizontalOptions="Center"/>
                    <ContentView Grid.Row="1" Padding="20,10">
                        <ContentPresenter />
                    </ContentView>

                    <HorizontalStackLayout Grid.Row="2" 
                                           Margin="20" 
                                           Spacing="{x:StaticResource formSpacing}"
                                           HorizontalOptions="End">
                        <Button Text="{TemplateBinding CancelText}" 
                                Command="{TemplateBinding CancelCommand}"
                                StyleClass="OutlinedButton"/>
                        <Button Grid.Column="1"
                                Text="{TemplateBinding AcceptText}" 
                                Command="{TemplateBinding AcceptCommand}"
                                StyleClass="FilledButton"/>
                    </HorizontalStackLayout>
                </Grid>
            </Border>
        </ControlTemplate>
    </ContentView.ControlTemplate>
</ContentView>